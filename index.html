<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html>
<head>
				<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
						<!-- Latest compiled and minified CSS -->
						<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
						<link rel="stylesheet" href="https://bootswatch.com/slate/bootstrap.min.css">

<style>
div.caption p{	min-height: 100px;}
div.caption a{ margin: 10px auto 5px auto; width: 100%;}
</style>

</head>
<body>
<header>
<nav class="navbar navbar-default">
<h1>Pr&eacute;sentations | <small>R&ecirc;vez|D&eacute;couvrez|Apprenez</small></h1>
</nav>
</header>

<div class="container-fluid">
<div id="loader" >Chargement des Presentations ...</div>
<div class="row-fluid" id="main"></div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script>
var info;
$(function(){
console.log("let's start dd");

message=function(){
mess=["Apprenez en plus",
	"Découvrez ici",
	"Trouvez la",
	"Des idées par la"];
return mess[Math.floor( (Math.random()*10)%mess.length)];
}

$.getJSON( "info.json" )
  .done(function( json ) {
		info=json;
		$("#loader").hide();

		$.each(json['decks'],function(key,val) {
			a=$("<div class='col-xs-4' >"+
					"<div class='thumbnail' >"+
						"<img />"+
						"<div class='caption'/>"+
						"</div>"+
					"</div>");

			a.find("img").attr("src",val.img);

			title=$("<h3>"+val.name+"</h3>");
			a.find(".caption").append(title);
			abstract=$("<p>"+val.abstract+"</p>");
			a.find(".caption").append(abstract);

			link=$("<a href="+val.url+" class='btn btn-warning' role='button'>"+message()+"</a>");
			a.find(".caption").append(link);
			$("#main").append(a);
		}
		);
  });
});

</script>

</body>
</html>
